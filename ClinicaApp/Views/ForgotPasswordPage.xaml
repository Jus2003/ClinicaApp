<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="ClinicaApp.Views.ForgotPasswordPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:ClinicaApp.ViewModels"
             x:DataType="viewmodels:ForgotPasswordViewModel"
             Title="Recuperar Contrase침a">

    <ScrollView Padding="40">
        <StackLayout Spacing="30" VerticalOptions="Center">

            <Label Text="游댏" FontSize="60" HorizontalOptions="Center" />

            <Label Text="Recuperar Contrase침a" 
                   FontSize="24" 
                   FontAttributes="Bold" 
                   TextColor="#2E7D32" 
                   HorizontalOptions="Center" />

            <Label Text="Ingresa tu correo electr칩nico y te enviaremos las instrucciones para recuperar tu contrase침a." 
                   FontSize="16" 
                   TextColor="Gray" 
                   HorizontalTextAlignment="Center" />

            <Frame BackgroundColor="White" 
                   HasShadow="True" 
                   CornerRadius="15" 
                   Padding="25">

                <StackLayout Spacing="20">

                    <Entry Text="{Binding Email}"
                           Placeholder="Correo electr칩nico" 
                           Keyboard="Email"
                           FontSize="16"
                           BackgroundColor="Transparent" />

                    <BoxView HeightRequest="1" BackgroundColor="LightGray" />

                    <Button Text="ENVIAR" 
                            Command="{Binding SendCommand}"
                            BackgroundColor="#4CAF50" 
                            TextColor="White" 
                            FontAttributes="Bold" 
                            FontSize="16" 
                            CornerRadius="25" 
                            HeightRequest="50" 
                            IsVisible="{Binding IsLoading, Converter={StaticResource InvertedBoolConverter}}" />

                    <StackLayout IsVisible="{Binding IsLoading}" 
                                 HorizontalOptions="Center" 
                                 Orientation="Horizontal" 
                                 Spacing="10">
                        <ActivityIndicator IsRunning="{Binding IsLoading}" Color="#4CAF50" />
                        <Label Text="Enviando..." TextColor="Gray" />
                    </StackLayout>

                    <Label Text="{Binding Message}" 
                           TextColor="{Binding ShowSuccess, Converter={StaticResource BoolToColorConverter}}"
                           FontSize="14" 
                           IsVisible="{Binding Message, Converter={StaticResource StringNotNullOrEmptyConverter}}"
                           HorizontalOptions="Center" 
                           HorizontalTextAlignment="Center" />

                </StackLayout>
            </Frame>

            <Button Text="VOLVER" 
                    Command="{Binding BackCommand}"
                    BackgroundColor="Transparent" 
                    TextColor="#2E7D32" 
                    FontSize="16" />

        </StackLayout>
    </ScrollView>
</ContentPage>